(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/user.877a015e.svg"},function(e,t,a){e.exports=a(28)},,,,,function(e,t,a){},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(11),o=a.n(s),r=(a(19),a(3)),l=a(4),c=a(7),h=a(5),u=a(6),d=a(12),m=(a(22),a(29),function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("h1",null,"Loading")}}]),t}(i.a.Component)),p=a(2),g=(a(24),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={button:"View Source"},a.handleViewSource=a.handleViewSource.bind(Object(p.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"change",value:function(e,t){for(var a,n=window.location.origin;null!==(a=t.exec(e));){var i=a[0],s=a[1]+a[2];i=i.replace(s,n+s),console.log("replacing:",a[0],"=to=",i),e=e.replace(a[0],i)}return e}},{key:"updateLinks",value:function(e){var t=/href="(\/)([^"]+)"/;return e=this.change(e,t),t=/src="(\/)([^"]+)"/,e=this.change(e,t),t=/f.p="(\/)([^"]+)"/,e=this.change(e,t)}},{key:"handleViewSource",value:function(e){if(e.preventDefault(),"Hide Source"===this.state.button)return document.getElementsByClassName("ViewSource")[0].remove(),void this.setState({button:"View Source"});var t=e.target,a=t.parentElement,n=document.createElement("textarea"),i="<!DOCTYPE html><html>";n.className="ViewSource",n.rows=16,i+=document.getElementsByTagName("html")[0].innerHTML,i+="</html>",i=(i=this.updateLinks(i)).replace(/</g,"&lt;").replace(/>/g,"&gt;"),n.innerHTML=i,a.insertBefore(n,t),this.setState({button:"Hide Source"})}},{key:"render",value:function(){return i.a.createElement("button",{onClick:this.handleViewSource},this.state.button)}}]),t}(i.a.Component)),b=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={email:"dummy@us.er",password:'fR58fT}F@)Mc*E"S',loading:!1},a.handleEmailChange=a.handleEmailChange.bind(Object(p.a)(a)),a.handlePasswordChange=a.handlePasswordChange.bind(Object(p.a)(a)),a.handleSignIn=a.handleSignIn.bind(Object(p.a)(a)),a.handleSignUp=a.handleSignUp.bind(Object(p.a)(a)),a.handleResetPassword=a.handleResetPassword.bind(Object(p.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"catchError",value:function(e){alert(e.message),console.log(e),this.setState({loading:!1})}},{key:"firebaseAction",value:function(e,t){var a=this;if(e.preventDefault(),!this.state.loading){var n,i=this.props.firebase.auth(),s=this.state.email,o=this.state.password;switch(t){case"password-reset":n=i.sendPasswordResetEmail(s).then(function(){alert("Password reset email sent!"),a.setState({loading:!1})});break;case"sign-up":n=i.createUserWithEmailAndPassword(s,o);break;default:n=i.signInWithEmailAndPassword(s,o)}n.catch(function(e){a.catchError(e)}),this.setState({loading:!0})}}},{key:"handleResetPassword",value:function(e){this.firebaseAction(e,"password-reset")}},{key:"handleSubmit",value:function(e){this.firebaseAction(e)}},{key:"handleSignUp",value:function(e){this.firebaseAction(e,"sign-up")}},{key:"handleSignIn",value:function(e){this.state.email&&this.state.password&&this.handleSubmit(e)}},{key:"handlePasswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"handleEmailChange",value:function(e){this.setState({email:e.target.value})}},{key:"render",value:function(){return this.state.loading?i.a.createElement(m,null):i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("input",{value:this.state.email,onChange:this.handleEmailChange,type:"email",placeholder:"email",autoFocus:!0,required:!0}),i.a.createElement("input",{value:this.state.password,onChange:this.handlePasswordChange,type:"password",placeholder:"password",required:!0}),i.a.createElement("button",{onClick:this.handleSignIn},"Sign In"),i.a.createElement("button",{onClick:this.handleSignUp},"Sign Up"),i.a.createElement("button",{onClick:this.handleResetPassword},"Reset Password"),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(g,null))}}]),t}(i.a.Component),f=(a(25),a(26),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).handleNameClick=a.handleNameClick.bind(Object(p.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"handleNameClick",value:function(e){e.preventDefault()}},{key:"render",value:function(){return i.a.createElement("header",{className:"Header text-right"},i.a.createElement("a",{href:"#/",onClick:this.props.changePageUser},i.a.createElement("img",{src:this.props.photo,className:"Header-photo",alt:"user"}),this.props.name),"\xa0",i.a.createElement("button",{onClick:this.props.changePageHome},"Home"),i.a.createElement("button",{onClick:this.props.handleSignOut},"Sign Out"))}}]),t}(i.a.Component)),v=(a(27),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={name:a.props.name,photo:a.props.photo,loading:!1},a.handleChangeName=a.handleChangeName.bind(Object(p.a)(a)),a.handleUpdateName=a.handleUpdateName.bind(Object(p.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"handleUpdateName",value:function(e){var t=this;this.state.loading||(this.props.firebase.auth().currentUser.updateProfile({displayName:this.state.name}).then(function(){t.setState({loading:!1})}).catch(function(e){alert(e.message),console.log(e)}),this.setState({loading:!0}))}},{key:"handleChangeName",value:function(e){var t=e.target.value;this.props.setNameState(t),this.setState({name:t})}},{key:"render",value:function(){return this.state.loading?i.a.createElement(m,null):i.a.createElement("div",{className:"User text-center"},i.a.createElement("h1",null,this.state.name),i.a.createElement("input",{type:"file",accept:"image/*",ref:this.props.refInputPhoto}),i.a.createElement("button",{onClick:this.props.handleUploadPhoto},"Upload"),i.a.createElement("br",null),i.a.createElement("img",{src:this.state.photo,className:"User-photo",alt:"user"}),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("input",{value:this.state.name,onChange:this.handleChangeName}),i.a.createElement("br",null),i.a.createElement("button",{onClick:this.handleUpdateName},"Change"))}}]),t}(i.a.Component)),O=a(13),S=a.n(O),j=function(e){function t(e){var a;Object(r.a)(this,t);var n=(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).props.firebase.auth().currentUser;return a.state={name:n.displayName||n.email,photo:S.a,page:null,loading:!1},a.handleSignOut=a.handleSignOut.bind(Object(p.a)(a)),a.changePageUser=a.changePageUser.bind(Object(p.a)(a)),a.changePageHome=a.changePageHome.bind(Object(p.a)(a)),a.setNameState=a.setNameState.bind(Object(p.a)(a)),a.handleUploadPhoto=a.handleUploadPhoto.bind(Object(p.a)(a)),a.refInputPhoto=i.a.createRef(),a.photo(),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"handleUploadPhoto",value:function(e){var t=this.refInputPhoto.current.files[0];t?this.photo(t):alert("Choose photo!")}},{key:"photo",value:function(e){var t=this,a=this.props.firebase,n="user_profile_photos/"+a.auth().currentUser.uid,i=a.storage().ref().child(n);if(e)return i.put(e).then(function(e){t.photo()}),void this.setState({loading:!0});i.getDownloadURL().then(function(e){t.setState({photo:e,loading:!1})}).catch(function(e){})}},{key:"setNameState",value:function(e){this.setState({name:e})}},{key:"handleSignOut",value:function(){this.state.loading||(this.props.firebase.auth().signOut(),this.setState({loading:!0}))}},{key:"changePageHome",value:function(e){this.changePage(e)}},{key:"changePageUser",value:function(e){this.changePage(e,"user")}},{key:"changePage",value:function(e,t){e.preventDefault();var a=this.props.firebase.auth().currentUser;this.setState({page:t,name:a.displayName||a.email})}},{key:"render",value:function(){if(this.state.loading)return i.a.createElement(m,null);var e,t=i.a.createElement(f,{changePageHome:this.changePageHome,changePageUser:this.changePageUser,handleSignOut:this.handleSignOut,photo:this.state.photo,name:this.state.name,firebase:this.props.firebase});switch(this.state.page){case"user":e=i.a.createElement(v,{name:this.state.name,photo:this.state.photo,firebase:this.props.firebase,setNameState:this.setNameState,handleUploadPhoto:this.handleUploadPhoto,refInputPhoto:this.refInputPhoto});break;default:e=i.a.createElement("h1",null,"Home")}return i.a.createElement("div",{className:"Home"},t,e)}}]),t}(i.a.Component),E=d.initializeApp({apiKey:"AIzaSyA7YGM0a9FxNlJffuIvlJ552ILZ1WehHTo",authDomain:"jscsshtmlfun.firebaseapp.com",databaseURL:"https://jscsshtmlfun.firebaseio.com",projectId:"jscsshtmlfun",storageBucket:"jscsshtmlfun.appspot.com",messagingSenderId:"150568044428",appId:"1:150568044428:web:3ede6716aac3dd0b"}),k=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={user:0},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;E.auth().onAuthStateChanged(function(t){e.setState({user:t})})}},{key:"render",value:function(){var e=this.state.user;return e?i.a.createElement(j,{firebase:E}):0===e?i.a.createElement(m,null):i.a.createElement(b,{firebase:E})}}]),t}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[14,1,2]]]);
//# sourceMappingURL=main.a928bef5.chunk.js.map